<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Happy Birthday Gemma ‚Äî Autumn Surprise üçÇ</title>

  <!-- Font: Homemade Apple -->
  <link href="https://fonts.googleapis.com/css2?family=Homemade+Apple&display=swap" rel="stylesheet">

  <style>
    :root{
      --orange:#d96b3b;
      --amber:#f0c27b;
      --cream:#fff8ef;
      --brown:#3b2f2f;
      --leaf:#b86b2a;
      --muted:#6b5852;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:"Homemade Apple", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: linear-gradient(180deg,#fff8ef,#f6e6d3);
      color:var(--brown);
      -webkit-font-smoothing:antialiased;
      overflow-x:hidden;
    }

    /* Falling leaves */
    .leaf {
      position:fixed;
      top:-10vh;
      z-index:1;
      opacity:0.9;
      pointer-events:none;
      transform-origin:center;
      will-change:transform, opacity;
      font-size:20px;
    }

    /* Overlay password */
    #pwOverlay{
      position:fixed; inset:0;
      display:flex; align-items:center; justify-content:center;
      background: rgba(10,10,10,0.6);
      backdrop-filter: blur(5px);
      z-index:9999;
    }
    .pwCard{
      width:92%; max-width:480px;
      background:linear-gradient(180deg,#fffaf3,#fff2e6);
      border-radius:16px;
      padding:28px;
      box-shadow:0 12px 40px rgba(0,0,0,0.25);
      text-align:center;
      border: 2px solid rgba(184,107,42,0.12);
    }
    .pwCard h2{margin:0 0 6px; color:var(--leaf); font-size:26px}
    .pwCard p{margin:0 0 14px; color:var(--muted)}

    .pwRow{display:flex; gap:8px; justify-content:center; align-items:center}
    .pwRow input{
      padding:10px 12px; border-radius:999px; border:2px solid #f0c27b; width:62%;
      font-size:16px; outline:none; background:white;
    }
    .pwRow button{
      padding:9px 14px; border-radius:999px; border:none; cursor:pointer;
      background:var(--orange); color:#fff; font-weight:700;
      box-shadow:0 6px 16px rgba(217,107,59,0.18);
    }
    .hintBtn{background:#f7d9b0; color:var(--brown); font-weight:700; border:none; padding:9px 10px; border-radius:999px; cursor:pointer}
    .hintText{height:20px; margin-top:10px; color:var(--leaf); font-weight:700}
    .errorText{color:#d62828; margin-top:8px; display:none; font-weight:700}

    /* Main content */
    #mainContent{display:none; position:relative; z-index:2; padding-bottom:60px}
    header{padding:42px 20px 10px; text-align:center}
    header h1{font-size:34px; margin:0; color:var(--leaf)}
    header p{margin:8px 0 0; color:var(--muted); font-size:16px}

    .container{max-width:980px; margin:26px auto; padding:0 18px}
    section{margin:28px 0; padding:20px; border-radius:14px; background:linear-gradient(180deg,#fff,#fffaf6);
             box-shadow:0 8px 24px rgba(0,0,0,0.06); border-left:6px solid rgba(184,107,42,0.12)}

    .center{display:flex; align-items:center; justify-content:center; flex-direction:column; gap:10px}
    .btn{
      background:var(--leaf); color:#fff; border:none; padding:12px 20px; border-radius:999px; cursor:pointer;
      font-weight:700; box-shadow:0 8px 24px rgba(184,107,42,0.15)
    }
    .btn.secondary{background:#f7d9b0; color:var(--brown)}

    /* Quiz styles */
    .quiz-card{padding:18px; margin:12px auto; max-width:820px; border-radius:12px; background:#fffefb}
    .question{font-size:20px; margin-bottom:10px}
    .answers{display:flex; gap:10px; flex-wrap:wrap}
    .opt{
      padding:10px 12px; border-radius:10px; border:2px solid #f0e4d8; cursor:pointer; min-width:160px;
      background:transparent;
    }
    .opt.selected{border-color:var(--leaf); background:linear-gradient(180deg,#fff7f0,#fff2ea)}
    .quiz-footer{display:flex; justify-content:space-between; align-items:center; margin-top:14px}
    .resultBox{margin-top:12px; font-weight:800; color:var(--leaf); font-size:18px; display:none}

    /* Letter (envelope) */
    .envelope{
      width:320px; height:200px; position:relative; perspective:900px; margin:20px auto;
    }
    .env-inner{
      width:100%; height:100%; transform-style:preserve-3d; transition:transform .8s cubic-bezier(.2,.9,.3,1);
      position:relative;
    }
    .env-front, .env-back, .env-flap{
      position:absolute; left:0; top:0; width:100%; height:100%; border-radius:10px; overflow:hidden;
      backface-visibility:hidden;
    }
    .env-front{background:linear-gradient(180deg,#fff8f0,#fff1e3); border:1px solid rgba(0,0,0,0.06);}
    .env-back{background:transparent}
    .env-flap{
      height:60%; top:-5%; transform-origin:center top; background:linear-gradient(180deg,#f6d8b0,#f0c27b); border-radius:10px 10px 0 0;
      border:1px solid rgba(0,0,0,0.06); transform:rotateX(0deg);
      transition:transform .6s cubic-bezier(.2,.9,.3,1);
    }
    .env-open .env-flap{transform:rotateX(-180deg)}
    .letter{
      position:absolute; left:6%; top:10%; width:88%; height:80%; background:#fff; padding:18px;border-radius:8px;
      box-shadow:0 6px 18px rgba(0,0,0,0.06); transform:translateY(8px); opacity:0; transition:all .6s ease;
    }
    .env-open .letter{transform:translateY(0); opacity:1}

    /* Gift box */
    .giftWrap{width:220px; height:160px; margin:18px auto; position:relative}
    .box{
      width:100%; height:100%; background:linear-gradient(180deg,#f9e6d6,#f2d6bb);
      border-radius:12px; position:relative; box-shadow:0 12px 28px rgba(0,0,0,0.12);
      transition:transform .5s ease;
    }
    .lid{
      position:absolute; left:6px; right:6px; top:-28px; height:60px; background:linear-gradient(180deg,#d97b46,#c56737);
      border-radius:12px; transform-origin:center; transition:transform .6s cubic-bezier(.2,.9,.3,1);
      box-shadow:0 8px 22px rgba(0,0,0,0.12);
    }
    .box.open .lid{transform:translateY(-48px) rotateX(25deg)}
    .ribbon{position:absolute; left:50%; transform:translateX(-50%); width:12px; top:0; height:100%; background:linear-gradient(180deg,#8b3a2e,#6d2418); border-radius:6px}
    .bow{position:absolute; left:50%; top:-18px; transform:translateX(-50%); width:56px; height:36px; border-radius:18px; background:linear-gradient(180deg,#e9966b,#d96b3b); display:flex; align-items:center; justify-content:center; box-shadow:0 6px 16px rgba(0,0,0,0.12)}
    .presentImg{max-width:92%; max-height:110px; display:block; margin:8px auto; border-radius:8px; box-shadow:0 8px 20px rgba(0,0,0,0.12); display:none}

    /* Small utilities */
    .muted{color:var(--muted); font-size:14px}
    .navRow{display:flex; gap:10px; justify-content:center; flex-wrap:wrap; margin-top:12px}

    /* Responsive */
    @media (max-width:640px){
      header h1{font-size:28px}
      .envelope{width:260px;height:170px}
      .giftWrap{width:200px;height:140px}
    }
  </style>
</head>
<body>

  <!-- Falling leaves (generated by JS) -->
  <!-- Password overlay -->
  <div id="pwOverlay" aria-hidden="false">
    <div class="pwCard" role="dialog" aria-labelledby="pwTitle">
      <h2 id="pwTitle">üçÅ C·ª≠a v√†o m√πa thu</h2>
      <p>Nh·∫≠p m·∫≠t kh·∫©u ƒë·ªÉ m·ªü b·∫•t ng·ªù sinh nh·∫≠t cho Gemma</p>
      <div class="pwRow">
        <input id="pwInput" type="password" placeholder="M·∫≠t kh·∫©u..." aria-label="password">
        <button id="pwSubmit" aria-label="Open">M·ªü</button>
        <button id="hintBtn" class="hintBtn" aria-label="Hint">G·ª£i √Ω</button>
      </div>
      <div class="hintText" id="hintText"></div>
      <div class="errorText" id="pwError">Sai m·∫≠t kh·∫©u ‚Äî th·ª≠ l·∫°i nh√©!</div>
    </div>
  </div>

  <!-- Main -->
  <div id="mainContent" aria-hidden="true">
    <header>
      <h1>üçÇ Happy Birthday, Gemma!</h1>
      <p>Ch√∫c m·ª´ng sinh nh·∫≠t th√°ng 10 ‚Äî ·∫•m √°p nh∆∞ m√πa thu.</p>
    </header>

    <div class="container">
      <!-- Landing -->
      <section id="landing" class="center">
        <p class="muted">M·ªôt h√†nh tr√¨nh nh·ªè: quiz, l√° th∆∞, v√† h·ªôp qu√† b√≠ ·∫©n ‚Äî chu·∫©n m√πa thu üçÅ</p>
        <div class="navRow">
          <button class="btn" id="btnStart">B·∫Øt ƒë·∫ßu</button>
          <button class="btn secondary" id="btnQuizJump">Quiz vui</button>
          <button class="btn secondary" id="btnLetterJump">M·ªü th∆∞</button>
          <button class="btn secondary" id="btnGiftJump">H·ªôp qu√†</button>
        </div>
      </section>

      <!-- Quiz Section -->
      <section id="quizSection">
        <h2 style="margin-top:0">üß† Quiz vui v·ªÅ Gemma</h2>
        <div class="quiz-card" id="quizCard">
          <!-- Questions inserted by JS -->
        </div>
        <div class="center">
          <div class="quiz-footer" style="width:100%; max-width:760px">
            <button class="btn" id="submitQuiz">N·ªôp ƒë√°p √°n</button>
            <div class="resultBox" id="quizResult"></div>
          </div>
        </div>
      </section>

      <!-- Letter Section -->
      <section id="letterSection" class="center">
        <h2>üíå M·ªôt l√° th∆∞ ·∫•m √°p</h2>
        <div class="envelope" id="envelope" aria-hidden="false">
          <div class="env-inner" id="envInner">
            <div class="env-flap"></div>
            <div class="env-front"></div>
            <div class="letter" id="letterContent" role="document" aria-label="Letter">
              <!-- Letter text -->
              <h3 style="margin:0 0 6px; color:var(--leaf)">Dear Gemma,</h3>
              <p style="margin:6px 0; color:var(--muted); line-height:1.5">
                Trong nh·ªØng ng√†y hanh hao c·ªßa m√πa thu, √°nh n·∫Øng d·ªãu d√†ng nh∆∞ n·ª• c∆∞·ªùi c·ªßa em.
                C·∫£m ∆°n em ƒë√£ mang ƒë·∫øn h∆°i ·∫•m, c·∫£m h·ª©ng v√† s·ª± tin t∆∞·ªüng cho c·∫£ ƒë·ªôi.
                Ch√∫c em m·ªôt tu·ªïi m·ªõi th·∫≠t an y√™n, tr√†n ƒë·∫ßy nh·ªØng d·ª± ƒë·ªãnh ƒë√£ ·∫•p ·ªß v√† th·∫≠t nhi·ªÅu ni·ªÅm vui.
              </p>
              <p style="margin:8px 0 0; font-weight:800; color:var(--orange)">Happy Birthday ‚Äî from your team üçÇ</p>
            </div>
          </div>
        </div>
        <div class="navRow">
          <button class="btn" id="openLetterBtn">M·ªü th∆∞</button>
          <button class="btn secondary" id="closeLetterBtn">ƒê√≥ng th∆∞</button>
        </div>
      </section>

      <!-- Gift Section -->
      <section id="giftSection" class="center">
        <h2>üéÅ H·ªôp qu√† b√≠ ·∫©n</h2>
        <p class="muted">B·∫•m m·ªü ƒë·ªÉ xem b√≠ m·∫≠t ‚Äî b·∫°n c√≥ th·ªÉ thay ·∫£nh b√™n d∆∞·ªõi b·∫±ng ·∫£nh th·∫≠t c·ªßa m√¨nh.</p>

        <div class="giftWrap" id="giftWrap" aria-hidden="false">
          <div class="box" id="giftBox" role="button" tabindex="0" aria-pressed="false" aria-label="Gift box">
            <div class="lid"></div>
            <div class="ribbon"></div>
            <div class="bow">üéÄ</div>
            <!-- Placeholder image; ƒë·ªïi 'your-image.jpg' th√†nh ·∫£nh th·ª±c t·∫ø c·ªßa b·∫°n -->
            <img id="presentImg" class="presentImg" src="your-image.jpg" alt="Image inside gift (replace with your own)">
          </div>
        </div>

        <div class="navRow">
          <button class="btn" id="openGiftBtn">M·ªü h·ªôp</button>
          <button class="btn secondary" id="resetGiftBtn">ƒê√≥ng l·∫°i</button>
        </div>
      </section>

      <footer style="text-align:center; margin-top:28px; color:var(--muted); font-weight:700">
        Made with autumn love by the team üçÅ
      </footer>
    </div>
  </div>

  <script>
    /*********** Password logic ***********/
    const CORRECT = 'bruce';
    const overlay = document.getElementById('pwOverlay');
    const pwInput = document.getElementById('pwInput');
    const pwSubmit = document.getElementById('pwSubmit');
    const hintBtn = document.getElementById('hintBtn');
    const hintText = document.getElementById('hintText');
    const pwError = document.getElementById('pwError');
    const mainContent = document.getElementById('mainContent');

    pwSubmit.addEventListener('click', ()=>{
      const val = pwInput.value.trim().toLowerCase();
      if(val === CORRECT){
        overlay.style.opacity = '0';
        setTimeout(()=> overlay.style.display = 'none', 400);
        mainContent.style.display = 'block';
        mainContent.setAttribute('aria-hidden','false');
        document.body.style.overflowY = 'auto';
      } else {
        pwError.style.display = 'block';
        setTimeout(()=> pwError.style.display = 'none', 2000);
      }
    });
    pwInput.addEventListener('keydown', (e)=> { if(e.key==='Enter') pwSubmit.click(); });

    hintBtn.addEventListener('click', ()=>{
      hintText.textContent = 'G·ª£i √Ω: m√†u t·ªëi (5s)';
      setTimeout(()=> hintText.textContent = '', 5000);
    });

    /*********** Falling leaves generation ***********/
    (function makeLeaves(){
      const icons = ['üçÅ','üçÇ'];
      for(let i=0;i<18;i++){
        const d = document.createElement('div');
        d.className = 'leaf';
        d.textContent = icons[Math.floor(Math.random()*icons.length)];
        const size = 14 + Math.random()*20;
        d.style.fontSize = size + 'px';
        d.style.left = (Math.random()*100) + 'vw';
        const dur = 8 + Math.random()*10;
        d.style.animation = `fall ${dur}s linear ${Math.random()*4}s infinite`;
        // random rotation & sway via transform
        d.style.transform = `rotate(${Math.random()*360}deg)`;
        document.body.appendChild(d);
      }
      // add keyframes dynamically (to vary horizontal drift)
      const style = document.createElement('style');
      style.innerHTML = `
        @keyframes fall { 
          0% { transform: translateY(-10vh) rotate(0deg) translateX(0); opacity:0 }
          10% { opacity:1 }
          50% { transform: translateY(40vh) rotate(180deg) translateX(8vw) }
          100% { transform: translateY(110vh) rotate(360deg) translateX(-6vw); opacity:0.95 }
        }`;
      document.head.appendChild(style);
    })();

    /*********** Navigation buttons ***********/
    document.getElementById('btnStart').addEventListener('click', ()=> document.getElementById('quizSection').scrollIntoView({behavior:'smooth'}));
    document.getElementById('btnQuizJump').addEventListener('click', ()=> document.getElementById('quizSection').scrollIntoView({behavior:'smooth'}));
    document.getElementById('btnLetterJump').addEventListener('click', ()=> document.getElementById('letterSection').scrollIntoView({behavior:'smooth'}));
    document.getElementById('btnGiftJump').addEventListener('click', ()=> document.getElementById('giftSection').scrollIntoView({behavior:'smooth'}));

    /*********** Quiz logic ***********/
    const quizQuestions = [
      {
        q: "Gemma th√≠ch u·ªëng g√¨ bu·ªïi s√°ng?",
        options: ["C√† ph√™", "Tr√†", "Sinh t·ªë", "N∆∞·ªõc l·ªçc"],
        a: 0
      },
      {
        q: "N·∫øu Gemma l√† m·ªôt m√πa, c√¥ ·∫•y s·∫Ω l√† m√πa n√†o?",
        options: ["M√πa xu√¢n", "M√πa h√®", "M√πa thu", "M√πa ƒë√¥ng"],
        a: 2
      },
      {
        q: "M√≥n ƒÉn y√™u th√≠ch c·ªßa Gemma l√† g√¨?",
        options: ["Pizza", "Ph·ªü", "Sushi", "Salad"],
        a: 2
      },
      {
        q: "Gemma th∆∞ gi√£n b·∫±ng c√°ch n√†o?",
        options: ["ƒê·ªçc s√°ch", "Xem phim", "ƒêi d·∫°o", "T·∫≠p th·ªÉ thao"],
        a: 0
      }
    ];

    const quizCard = document.getElementById('quizCard');
    const quizResult = document.getElementById('quizResult');

    function renderQuiz(){
      quizCard.innerHTML = '';
      quizQuestions.forEach((item, idx) => {
        const qWrap = document.createElement('div');
        qWrap.className = 'qWrap';
        qWrap.innerHTML = `
          <div class="question">${idx+1}. ${item.q}</div>
          <div class="answers" data-q="${idx}"></div>
        `;
        quizCard.appendChild(qWrap);
        const answersEl = qWrap.querySelector('.answers');
        item.options.forEach((opt, oi) => {
          const btn = document.createElement('button');
          btn.type = 'button';
          btn.className = 'opt';
          btn.textContent = opt;
          btn.dataset.q = idx;
          btn.dataset.opt = oi;
          btn.addEventListener('click', ()=> {
            // deselect siblings
            const siblings = answersEl.querySelectorAll('.opt');
            siblings.forEach(s => s.classList.remove('selected'));
            btn.classList.add('selected');
          });
          answersEl.appendChild(btn);
        });
      });
    }
    renderQuiz();

    document.getElementById('submitQuiz').addEventListener('click', ()=>{
      let score = 0;
      quizQuestions.forEach((item, idx)=>{
        const chosen = document.querySelector(`.answers[data-q="${idx}"] .opt.selected`);
        if(chosen && Number(chosen.dataset.opt) === item.a) score++;
      });
      quizResult.style.display = 'block';
      quizResult.textContent = `B·∫°n tr·∫£ l·ªùi ƒë√∫ng ${score}/${quizQuestions.length}`;
      // show a small message based on score
      let msg = '';
      if(score === quizQuestions.length) msg = 'B·∫°n hi·ªÉu Gemma qu√° t·ªët! üéâ';
      else if(score >= Math.ceil(quizQuestions.length*0.6)) msg = 'Tuy·ªát! B·∫°n g·∫ßn nh∆∞ ƒëo√°n ƒë√∫ng r·ªìi üòä';
      else msg = 'Ch∆∞a h·∫øt ƒë√¢u ‚Äî h√£y th·ª≠ h·ªèi team ƒë·ªÉ bi·∫øt th√™m v·ªÅ Gemma nh√©!';
      quizResult.textContent += ' ‚Äî ' + msg;
      // scroll to letter after a short delay to encourage flow
      setTimeout(()=> document.getElementById('letterSection').scrollIntoView({behavior:'smooth'}), 1500);
    });

    /*********** Letter open/close ***********/
    const envInner = document.getElementById('envInner');
    const openLetterBtn = document.getElementById('openLetterBtn');
    const closeLetterBtn = document.getElementById('closeLetterBtn');

    openLetterBtn.addEventListener('click', ()=>{
      envInner.parentElement.classList.add('env-open');
      envInner.querySelector('.env-flap').style.transform = 'rotateX(-180deg)';
      envInner.querySelector('.letter').style.opacity = 1;
      envInner.classList.add('open');
      // scroll to letter content
      setTimeout(()=> document.getElementById('letterContent').scrollIntoView({behavior:'smooth'}), 200);
    });
    closeLetterBtn.addEventListener('click', ()=>{
      envInner.parentElement.classList.remove('env-open');
      envInner.querySelector('.env-flap').style.transform = '';
      envInner.querySelector('.letter').style.opacity = 0;
    });

    // Make envelope clickable too
    document.getElementById('envelope').addEventListener('click', ()=> {
      if(envInner.classList.contains('open')) {
        closeLetterBtn.click();
        envInner.classList.remove('open');
      } else {
        openLetterBtn.click();
        envInner.classList.add('open');
      }
    });

    /*********** Gift open/close ***********/
    const giftBox = document.getElementById('giftBox');
    const presentImg = document.getElementById('presentImg');
    const openGiftBtn = document.getElementById('openGiftBtn');
    const resetGiftBtn = document.getElementById('resetGiftBtn');

    function openGift(){
      giftBox.classList.add('open');
      presentImg.style.display = 'block';
      presentImg.style.opacity = 0;
      setTimeout(()=> presentImg.style.opacity = 1, 60);
      // scroll
      setTimeout(()=> document.getElementById('giftSection').scrollIntoView({behavior:'smooth'}), 120);
      giftBox.setAttribute('aria-pressed','true');
    }
    function closeGift(){
      giftBox.classList.remove('open');
      presentImg.style.opacity = 0;
      setTimeout(()=> presentImg.style.display = 'none', 380);
      giftBox.setAttribute('aria-pressed','false');
    }

    openGiftBtn.addEventListener('click', openGift);
    resetGiftBtn.addEventListener('click', closeGift);
    giftBox.addEventListener('click', ()=> {
      if(giftBox.classList.contains('open')) closeGift(); else openGift();
    });
    giftBox.addEventListener('keydown', (e)=> { if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); giftBox.click(); }});

    /*********** Accessibility: ensure focus lands nicely after open ***********/
    document.addEventListener('keydown', (e) => {
      if(e.key === 'Escape'){
        // close overlays if any open
        closeGift();
        closeLetterBtn.click();
      }
    });

    /*********** NOTE: Replace placeholder image ***********/
    // To change the image shown in the gift box, replace the 'src' attribute of #presentImg above
    // e.g. document.getElementById('presentImg').src = 'https://example.com/your-photo.jpg'
  </script>
</body>
</html>
