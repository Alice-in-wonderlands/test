<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>1 Year Anniversary</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600&display=swap" rel="stylesheet">
<style>
  body {
    margin: 0;
    font-family: 'Cormorant Garamond', serif;
    color: #f2eee7;
    overflow-x: hidden;
    background-color: #590818;
    transition: background-color 1.5s ease;
  }

  /* PASSWORD */
  .password-gate {
    position: fixed; inset: 0;
    background-color: #1a0d0d;
    display: flex; flex-direction: column;
    align-items: center; justify-content: center;
    z-index: 10000;
    transition: opacity 1s ease;
  }
  .password-gate input, .password-gate button { border: none; border-radius: 20px; outline: none; }
  .password-gate h2 { color: #f2eee7; margin-bottom: 20px; }
  .password-gate input { padding: 10px 20px; font-size: 1em; text-align: center; background-color: #f2eee7; color: #3b2f2f; }
  .password-gate input.wrong { background-color: #ffb3b3; color: #590818; }
  .password-gate button { margin-top: 15px; padding: 10px 25px; background-color: #590818; color: #f2eee7; cursor: pointer; }
  .password-gate button:hover { background-color: #7a1b27; }

  /* OVERLAY */
  .intro-overlay {
    position: fixed; inset: 0;
    display: none; align-items: center; justify-content: center;
    flex-direction: column; background-color: #590818;
    color: #f2eee7; z-index: 9999; overflow: hidden; cursor: pointer;
  }
  .floating-icons { position: absolute; inset: 0; overflow: hidden; z-index: 0; }
  .floating-icon { position: absolute; font-size: 2em; opacity: 0.6; animation: floatUp 6s linear infinite; }
  @keyframes floatUp { 0%{transform:translateY(0) scale(1);opacity:0.8;} 80%{opacity:1;} 100%{transform:translateY(-120vh) scale(0.9);opacity:0;} }
  .intro-overlay span, .intro-overlay small { position: relative; z-index: 2; }
  .intro-overlay span { font-size: 2em; font-weight: 1000; margin-bottom: 20px; white-space: pre; }
  .intro-overlay .line2 { font-size: 1.5em;  font-weight: 600; margin-top:0; }
  .intro-overlay small { font-size:0.6em; font-weight:700; opacity:0; margin-top:25px; transition:opacity 1.5s ease; }
  .intro-overlay small.visible { opacity:0.8; }

  /* NIGHT SKY */
  .sky { position: fixed; inset:0; overflow:hidden; z-index:-5; background: radial-gradient(circle at 50% 80%, #0b0b1a 0%, #01010a 100%); }
  .moon { position:absolute; top:5%; right:8%; width:160px; height:160px; background: radial-gradient(circle at 30%30%, #fff,#ddd 60%,#aaa 100%); border-radius:50%; box-shadow:0 0 50px 20px rgba(255,255,200,0.4); transform:scale(1); transition:transform 1.5s ease-out,opacity 1.5s ease-out; }
  .star { position:absolute; background:white; border-radius:50%; opacity:0.8; animation: twinkle 2s infinite ease-in-out; }
  @keyframes twinkle { 0%,100%{opacity:0.2;} 50%{opacity:1;} }
.shooting-star {
  position: absolute;
  width: 120px;
  height: 2px;
  background: linear-gradient(90deg, rgba(255,255,255,0), rgba(255,255,255,1));
  opacity: 0;
  transform: rotate(30deg);
  filter: drop-shadow(0 0 8px rgba(255,255,255,0.9)) blur(0.5px);
  animation: shoot 1.8s cubic-bezier(0.3, 0.1, 0.7, 1) forwards;
}

@keyframes shoot {
  0% {
    opacity: 1;
    transform: translate(0, 0) rotate(30deg);
  }
  70% {
    opacity: 1;
    transform: translate(300px, 150px) rotate(30deg);
  }
  100% {
    opacity: 0;
    transform: translate(450px, 250px) rotate(30deg);
  }
}

  /* ‚òÅÔ∏è M√¢y l·ª≠ng l∆° tr√¥i nh·∫π */
.cloud {
  position: absolute;
  background: radial-gradient(
    circle at center,
    rgba(255, 255, 255, 0.12),
    rgba(255, 255, 255, 0.05) 70%,
    transparent 100%
  );
  filter: blur(40px);
  border-radius: 50%;
  opacity: 0.7;
  animation: floatCloud linear infinite;
}

/* M√¢y tr√¥i ngang ch·∫≠m r√£i, h∆°i dao ƒë·ªông */
@keyframes floatCloud {
  0% {
    transform: translateX(-200px) translateY(0);
  }
  50% {
    transform: translateX(200px) translateY(10px);
  }
  100% {
    transform: translateX(-200px) translateY(0);
  }
}


  /* SECTIONS */
  section { opacity:0; transform:translateY(50px); transition:opacity 1s ease, transform 1s ease; padding:200px 20px; text-align:center; }
  section:first-of-type{ padding-top:430px; }
  section.visible{ opacity:1; transform:translateY(0); }

  /* üåü Hi·ªáu ·ª©ng cho ph·∫ßn ti√™u ƒë·ªÅ m·ªü ƒë·∫ßu */
#section1 h1 {
  font-size: 2.5em;
  color: #fff4f7;
  text-shadow:
    0 0 8px rgba(255, 180, 200, 0.8),
    0 0 16px rgba(255, 120, 160, 0.6),
    0 0 30px rgba(255, 90, 140, 0.4);
  animation: glowPulse 3s ease-in-out infinite;
}

/* ‚ú® Hi·ªáu ·ª©ng nh·ªãp s√°ng nh·∫π nh∆∞ tim ƒë·∫≠p */
@keyframes glowPulse {
  0%, 100% {
    text-shadow:
      0 0 8px rgba(255, 180, 200, 0.8),
      0 0 16px rgba(255, 120, 160, 0.6),
      0 0 30px rgba(255, 90, 140, 0.4);
  }
  50% {
    text-shadow:
      0 0 14px rgba(255, 210, 220, 1),
      0 0 28px rgba(255, 160, 180, 0.8),
      0 0 45px rgba(255, 100, 150, 0.6);
  }
}

/* üíå D√≤ng vƒÉn b·∫£n b√™n d∆∞·ªõi ‚Äì nghi√™ng, Times New Roman */
#section1 p {
  font-family: "Times New Roman", serif;
  font-style: italic;
  font-size: 1.1em;
  color: #f2eee7;
  line-height: 1.7;
  max-width: 700px;
  margin: 20px auto 0;
}
/* üå∑ D√≤ng Here‚Äôs... tr·ªü l·∫°i ch·ªØ ƒë·ª©ng */
#section1 p .no-italic {
  font-style: normal; /* b·ªè nghi√™ng */
  display: inline-block;
}


  .timeline { position:relative; width:80%; margin:120px auto; max-width:600px; text-align:left; }
  .event { margin:120px 0; position:relative; }
  .event::before { content:""; position:absolute; left:50%; top:-80px; width:4px; height:160px; background:#f2eee7; transform:translateX(-50%); }
  .footstep { position:absolute; width:30px; height:30px; opacity:0; transition:0.5s; }
  #leftFoot{ transform:rotate(-20deg); }
  #rightFoot{ transform:rotate(20deg); }

  .milestone {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin: 200px auto;
  width: 90%;
  max-width: 900px;
  opacity: 0;
  transform: translateY(80px);
  transition: all 1.2s ease;
}

.milestone.visible {
  opacity: 1;
  transform: translateY(0);
}

.milestone.left .text { order: 1; text-align: right; padding-right: 30px; }
.milestone.left .image { order: 2; }
.milestone.right .text { order: 2; text-align: left; padding-left: 30px; }
.milestone.right .image { order: 1; }

.milestone .image img {
  width: 280px;
  height: 280px; /* üëà Gi·ªØ t·ªâ l·ªá vu√¥ng */
  object-fit: cover;
  border-radius: 20px;
  box-shadow: 0 0 20px rgba(0,0,0,0.35);
  transition: transform 0.4s ease, box-shadow 0.4s ease;
}

/* Hi·ªáu ·ª©ng khi hover ·∫£nh cho sinh ƒë·ªông h∆°n */
.milestone .image img:hover {
  transform: scale(1.05);
  box-shadow: 0 0 30px rgba(255, 182, 193, 0.4);
}


.milestone .text h3 {
  font-size: 1.4em;
  margin-bottom: 10px;
  color: #f9f5ef;
}

.milestone .text p {
  font-size: 1em;
  color: #f2eee7;
  max-width: 400px;
  margin: 0 auto;
  line-height: 1.6;
}

.timeline::before {
  content: "";
  position: absolute;
  left: 50%;
  top: 0;
  width: 3px;
  height: 100%;
  background: rgba(255,255,255,0.4);
  transform: translateX(-50%);
}
/* üíñ Tinh ch·ªânh b·ªë c·ª•c v√† font cho ph·∫ßn timeline */
.timeline h2 {
  text-align: center;
  font-size: 2em;
  color: #ffeef3;
  margin-bottom: 60px;
  letter-spacing: 1px;
}

/* Th√™m hi·ªáu ·ª©ng nh·∫π cho khi hi·ªán ra */
.milestone.visible .text {
  animation: fadeInUp 1s ease forwards;
}

@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

/* üå∏ C·∫£i thi·ªán text b√™n trong m·ªói m·ªëc */
.milestone .text {
  background: rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(4px);
  border-radius: 16px;
  padding: 30px 35px;
  box-shadow: 0 6px 25px rgba(0, 0, 0, 0.25);
  transition: transform 0.4s ease, box-shadow 0.4s ease;
}

.milestone .text:hover {
  transform: translateY(-6px);
  box-shadow: 0 12px 35px rgba(255, 182, 193, 0.25);
}

/* Ti√™u ƒë·ªÅ m·ªëc th·ªùi gian */
.milestone .text h3 {
  font-size: 1.6em;
  color: #ffeaf0;
  margin-bottom: 12px;
  font-weight: 600;
  text-shadow: 0 0 6px rgba(255, 200, 210, 0.3);
}

/* ƒêo·∫°n m√¥ t·∫£ */
.milestone .text p {
  font-size: 1.05em;
  line-height: 1.8;
  color: #f8f4f0;
  letter-spacing: 0.3px;
}

/* CƒÉn l·∫°i v·ªã tr√≠ v√† kho·∫£ng c√°ch gi·ªØa ·∫£nh v√† text */
.milestone.left .text {
  text-align: right;
  padding-right: 50px;
}
.milestone.right .text {
  text-align: left;
  padding-left: 50px;
}

/* Hi·ªáu ·ª©ng ·∫£nh nh·∫π ƒë·ªÉ ƒë·ªìng b·ªô */
.milestone .image img {
  border: 3px solid rgba(255,255,255,0.2);
}

/* üåü Hi·ªáu ·ª©ng slide-in theo h∆∞·ªõng tr√°i/ph·∫£i khi milestone hi·ªán ra */
.milestone.left .text,
.milestone.left .image {
  opacity: 0;
  transform: translateX(-80px);
  transition: all 1s cubic-bezier(0.25, 0.1, 0.25, 1);
}

.milestone.right .text,
.milestone.right .image {
  opacity: 0;
  transform: translateX(80px);
  transition: all 1s cubic-bezier(0.25, 0.1, 0.25, 1);
}

.milestone.visible .text,
.milestone.visible .image {
  opacity: 1;
  transform: translateX(0);
}

/* ‚ú® Th√™m ƒë·ªô tr·ªÖ nh·∫π gi·ªØa text v√† ·∫£nh ƒë·ªÉ v√†o form m∆∞·ª£t */
.milestone.visible .text {
  transition-delay: 0.2s;
}

/* üí´ L√†m cho ph·∫ßn text n·ªïi b·∫≠t h∆°n khi v√†o */
.milestone.visible .text h3 {
  animation: glowIn 1.2s ease forwards;
}
@keyframes glowIn {
  0% { text-shadow: none; opacity: 0.6; }
  100% { text-shadow: 0 0 10px rgba(255,180,200,0.8); opacity: 1; }
}

/* üíû N√¢ng c·∫•p ph·∫ßn n·ªôi dung timeline */
.milestone .text {
  width: 280px; /* üëà c√πng k√≠ch th∆∞·ªõc v·ªõi ·∫£nh */
  max-width: none;
  line-height: 1.8;
  letter-spacing: 0.3px;
  color: #f8f4f0;
  font-family: 'Cormorant Garamond', serif;
  font-weight: 500;
  background: rgba(255, 255, 255, 0.06);
  padding: 20px 25px;
  border-radius: 18px;
  box-shadow: 0 0 25px rgba(255, 200, 210, 0.08);
  backdrop-filter: blur(3px);
  -webkit-backdrop-filter: blur(3px);
  transition: all 0.6s ease;
}

/* Khi hover v√†o ph·∫ßn text ‚Äì n·ªïi nh·∫π l√™n, √°nh h·ªìng m∆° */
.milestone .text:hover {
  transform: translateY(-5px);
  box-shadow: 0 0 35px rgba(255, 170, 200, 0.3);
}

/* üå∏ Ti√™u ƒë·ªÅ ng√†y v√† s·ª± ki·ªán n·ªïi b·∫≠t, tinh t·∫ø h∆°n */
.milestone .text h3 {
  font-family: 'Cormorant Garamond', serif;
  font-size: 1.5em;
  font-weight: 600;
  letter-spacing: 0.4px;
  color: #fff3f6;
  text-shadow: 0 0 6px rgba(255, 180, 200, 0.4);
  margin-bottom: 15px;
}

/* üíå N·ªôi dung m·ªÅm m·∫°i, nh·∫π nh√†ng h∆°n */
.milestone .text p {
  font-size: 1.05em;
  color: #f8f5f2;
  line-height: 1.75;
  font-style: italic;
  text-align: justify;
}

/* üéÄ D√≤ng ƒë·∫ßu ti√™n nh·∫•n nh·∫π h∆°n ‚Äì t·∫°o c·∫£m gi√°c m·ªü c√¢u */
.milestone .text p::first-line {
  font-weight: 600;
  color: #ffe4ec;
}
  
  .tab { display:inline-block; background-color:rgba(229,225,216,0.8); color:#3b2f2f; padding:10px 20px; margin:10px; border-radius:20px; cursor:pointer; transition:0.3s; }
  .tab:hover{ background-color:#d8d4c7; }
  .letter { display:none; margin:20px auto; max-width:500px; background-color:rgba(247,244,238,0.9); padding:20px; border-radius:15px; color:#3b2f2f; box-shadow:0 0 10px rgba(0,0,0,0.3); }

 /* N√∫t play n·∫±m gi·ªØa tr√°i tim */
.play-btn {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 90px;
  height: 90px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.85);
  box-shadow: 0 0 20px rgba(255, 150, 180, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.4s ease;
  z-index: 10;
}

.play-btn:hover {
  transform: translate(-50%, -50%) scale(1.1);
  background: rgba(255, 255, 255, 0.95);
  box-shadow: 0 0 25px rgba(255, 170, 200, 0.8);
}

/* Bi·ªÉu t∆∞·ª£ng tam gi√°c trong n√∫t play */
.play-btn::before {
  content: "‚ñ∂";
  color: #d6336c;
  font-size: 2rem;
  margin-left: 5px;
}

/* ·∫®n c√°c ph·∫ßn game ban ƒë·∫ßu */
#game-content {
  opacity: 0;
  pointer-events: none;
  transition: opacity 1s ease;
}

#game-content.visible {
  opacity: 1;
  pointer-events: auto;
}  
  /* üéØ Mini game tr√°i tim */
  :root {
    --size: 450px;
    --cell: calc(var(--size) / 3);
  }
  .board-wrap {
    width: var(--size);
    height: var(--size);
    position: relative;
    clip-path: polygon(
      50% 92%, 20% 70%, 7% 45%, 20% 25%, 38% 10%, 50% 22%, 62% 10%, 80% 25%, 93% 45%, 80% 70%
    );
    background: linear-gradient(180deg, #fff, #ffeaf2);
    border: 3px solid #ffb5ce;
    box-shadow: 0 6px 20px rgba(214, 51, 108, 0.15);
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: repeat(3, 1fr);
    margin: 0 auto;
  }
  .slot {
    border: 1px dashed rgba(150,150,150,0.25);
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    background: transparent;
  }
  .slot.highlight { outline: 3px dashed rgba(214,51,108,0.45); }
  #pieces {
  width: calc(var(--cell) * 4 + 18px); /* 4 m·∫£nh 1 h√†ng, c√≥ kho·∫£ng c√°ch */
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  justify-content: center;
  margin: 15px auto;
}

  .piece {
    width: var(--cell);
    height: var(--cell);
    border: 1px solid #888;
    background-image: url("sa2.jpg");
    background-size: var(--size) var(--size);
    cursor: grab;
    user-select: none;
    border-radius: 4px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.15);
  }
  .slot .piece { width: 100%; height: 100%; border: none; cursor: default; box-shadow: none; }
  button { background:#d6336c; color:white; border:none; padding:10px 16px; border-radius:6px; cursor:pointer; font-size: 1rem; }
  button:hover { background:#b72559; }
  
@keyframes burst {
  0% { transform: scale(0) translateY(0); opacity: 1; }
  70% { transform: scale(1.6) translateY(-50px); opacity: 1; }
  100% { transform: scale(0) translateY(-100px); opacity: 0; }
}


/* üåÖ M√†n k·∫øt tinh t·∫ø ‚Äì d·ªãu nh·∫π, ·∫•m √°p h∆°n */
.ending-scene {
  position: fixed;
  inset: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  background: radial-gradient(circle at center, rgba(255, 192, 203, 0.15), rgba(0, 0, 0, 0.6));
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  opacity: 0;
  transition: opacity 2s ease;
  z-index: 9999;
  text-align: center;
}

.ending-scene.visible {
  opacity: 1;
}

.ending-text h2 {
  font-family: 'Cormorant Garamond', serif;
  color: #fce4ec;
  font-size: 2.2em;
  margin-bottom: 15px;
  animation: fadeGlow 4s ease-in-out infinite;
}

.ending-text p {
  font-size: 1.1em;
  color: #f9f5ef;
  line-height: 1.7;
  max-width: 600px;
  margin: 0 auto;
  font-style: italic;
}

/* üí´ Nh·ªãp s√°ng ch·ªØ */
@keyframes fadeGlow {
  0%, 100% { text-shadow: 0 0 8px rgba(255, 200, 210, 0.7); }
  50% { text-shadow: 0 0 20px rgba(255, 150, 180, 1); }
}

  /* ‚ú® Khi ending xu·∫•t hi·ªán, ph·∫ßn main tr∆∞·ª£t nh·∫π xu·ªëng */
main {
  transition: transform 1.2s ease, opacity 1.2s ease;
}

main.shifted {
  transform: translateY(-200px);
  opacity: 0.8; /* h∆°i m·ªù ƒëi ch√∫t, cho n·ªïi ph·∫ßn ending */
  filter: blur(2px);
}

/* üíå Love Letter Popup Styles */
.love-letter {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.65);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 10000;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.5s ease;
}

.love-letter.visible {
  opacity: 1;
  pointer-events: auto;
}

.letter-content {
  background: #fffafc;
  color: #3b2f2f;
  padding: 40px 50px;
  border-radius: 20px;
  max-width: 500px;
  text-align: center;
  box-shadow: 0 0 25px rgba(255, 180, 200, 0.3);
  font-family: 'Cormorant Garamond', serif;
  position: relative;
  animation: fadeInScale 0.6s ease;
}

@keyframes fadeInScale {
  0% { transform: scale(0.8); opacity: 0; }
  100% { transform: scale(1); opacity: 1; }
}

.close-btn {
  position: absolute;
  top: 12px;
  right: 15px;
  background: none;
  border: none;
  font-size: 1.2em;
  cursor: pointer;
  color: #b72559;
}

.close-btn:hover {
  color: #e63972;
}

.love-btn {
  background-color: #ffb3c6;
  border: none;
  color: #fff;
  padding: 12px 24px;
  border-radius: 25px;
  cursor: pointer;
  font-size: 1.1em;
  transition: background 0.3s ease;
}

.love-btn:hover {
  background-color: #ff8fab;
}
  
  /* N√∫t play gi·ªØa tim */
.play-btn {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 90px;
  height: 90px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.85);
  box-shadow: 0 0 20px rgba(255, 150, 180, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.4s ease;
  z-index: 10;
}
.play-btn:hover {
  transform: translate(-50%, -50%) scale(1.1);
  background: rgba(255, 255, 255, 0.95);
  box-shadow: 0 0 25px rgba(255, 170, 200, 0.8);
}
.play-btn::before {
  content: "‚ñ∂";
  color: #d6336c;
  font-size: 2rem;
  margin-left: 5px;
}

/* ·∫®n game khi ch∆∞a b·∫•m Play */
#game-content {
  opacity: 0;
  pointer-events: none;
  transform: scale(0.8);
  transition: opacity 1s ease, transform 1s ease;
}

/* Khi hi·ªán l√™n */
#game-content.visible {
  opacity: 1;
  pointer-events: auto;
  transform: scale(1);
}
/* üíå Popup th∆∞ */
.letter-popup {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(4px);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  animation: fadeIn 0.4s ease forwards;
}

.letter-content {
  background: #f9f5ef;
  color: #3b2f2f;
  padding: 40px 50px;
  border-radius: 20px;
  box-shadow: 0 8px 30px rgba(0,0,0,0.25);
  max-width: 600px;
  width: 90%;
  font-family: 'Dancing Script', 'Segoe Script', cursive;
  font-size: 1.3em;
  line-height: 1.8;
  position: relative;
  border: 1px solid #d1c7b9;
  transform: scale(0.95);
  animation: popIn 0.4s ease forwards;
}

.letter-content h3 {
  text-align: center;
  margin-bottom: 20px;
  font-family: 'Great Vibes', cursive;
  font-size: 1.8em;
  color: #5a4740;
}

.close-btn {
  position: absolute;
  top: 15px;
  right: 20px;
  font-size: 1.5em;
  cursor: pointer;
  color: #7a6a5c;
  transition: 0.3s;
}
.close-btn:hover { color: #c0392b; transform: scale(1.1); }

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}
@keyframes popIn {
  from { opacity: 0; transform: scale(0.9); }
  to { opacity: 1; transform: scale(1); }
}
/* üíå Overlay th∆∞ tay */
.letter-overlay {
  position: fixed;
  inset: 0;
  background: rgba(10, 0, 0, 0.7);
  backdrop-filter: blur(6px);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 9999;
}

.letter-overlay.active {
  display: flex;
  animation: fadeIn 0.6s ease forwards;
}

.letter-box {
  position: relative;
  width: 80%;
  max-width: 650px;
  max-height: 80vh;
  overflow-y: auto;
  border-radius: 20px;
  padding: 60px 60px 50px;
  box-shadow: 0 0 40px rgba(255, 180, 200, 0.3);
  animation: slideUp 0.7s ease forwards;

  /* ‚ú® V√¢n gi·∫•y vintage */
  background-color: #fffaf1;
  background-image: 
    radial-gradient(circle at 1px 1px, rgba(220,200,170,0.15) 1px, transparent 0),
    radial-gradient(circle at 3px 3px, rgba(200,180,150,0.15) 1px, transparent 0);
  background-size: 6px 6px;
  border: 1px solid rgba(170,140,110,0.3);
}

.letter-content {
  font-family: 'Cormorant Garamond', serif;
  font-size: 1.25em;
  line-height: 1.8;
  text-align: left;
  color: #3b2f2f;
  white-space: pre-line;
}

.letter-content h3 {
  text-align: center;
  font-size: 1.8em;
  margin-bottom: 25px;
  color: #5a2a2a;
}

/* ‚úñ N√∫t ƒë√≥ng n·ªïi h·∫≥n l√™n tr√™n */
.close-btn {
  position: fixed;
  top: 40px;
  right: 60px;
  font-size: 1.8em;
  background: rgba(255, 255, 255, 0.7);
  border: 1px solid rg

</style>
</head>
<body>

<!-- PASSWORD -->
<div class="password-gate" id="passwordGate">
  <h2>Enter the password to continue üíå</h2>
  <input type="password" id="pwInput" placeholder="Enter password...">
  <button onclick="checkPassword()">Enter</button>
</div>

<!-- INTRO -->
<div class="intro-overlay" id="intro">
  <div class="floating-icons" id="floatingIcons"></div>
  <span id="line1"></span>
  <span id="line2" class="line2"></span>
  <small id="clickText">(Click anywhere to continue)</small>
</div>

<!-- BACKGROUND -->
<div class="sky" id="sky">
  <div class="cloud" style="top:20%; left:15%; width:250px; height:120px; animation-duration: 70s;"></div>
<div class="cloud" style="top:40%; left:60%; width:300px; height:150px; animation-duration: 90s;"></div>
<div class="cloud" style="top:65%; left:30%; width:220px; height:100px; animation-duration: 80s;"></div>
  <div class="moon" id="moon"></div>
</div>

<!-- CONTENT -->
  <main>
<section id="section1">
  <h1>Happy 1 Year Anniversary, My Love‚ù§Ô∏è</h1>
 <p>
  I can‚Äôt believe it‚Äôs already been a year since we started this crazy, beautiful journey together.
  From our first shy emails to all the adventures (and even the hard times), every moment with you has meant so much to me.<br><br>
  <span class="no-italic">Here‚Äôs a little walk through our story ‚Äî our laughs, our tears, our everything.üíå</span>
</p>
</section>

<section id="timeline-section">
  <h2>üíû Our Journey</h2>
  <div class="timeline">
    
    <div class="milestone left">
      <div class="text">
        <h3>09/09/2024 ‚Äì The First Email</h3>
        <p>You emailed me to invite me to play badminton ‚Äî pretending it was just a friendly game, but I know you were secretly trying to make a connection üòâ.<br>
        Still, I‚Äôm so glad you did. That simple message started everything. üí´</p>
      </div>
      <div class="image"><img src="Mail.jpg" alt="The First Email"></div>
    </div>

    <div class="milestone right">
      <div class="image"><img src="BMT.jpg" alt="First Badminton"></div>
      <div class="text">
        <h3>22/09/2024 ‚Äì First Badminton Together</h3>
        <p>Our very first badminton game ‚Äî with our friends, but it felt like our moment.<br>
        You were funny, competitive, and (maybe) showing off a little üòè.<br>
        I laughed so much that day. That‚Äôs when I started to see how special you are. üíñ</p>
      </div>
    </div>

    <div class="milestone left">
      <div class="text">
        <h3>15/10/2024 ‚Äì 5AM to the Zoo</h3>
        <p>Only we would decide to go to the zoo at 5 in the morning! üòÇ<br>
        Sleepy faces, cold air, and hot coffee ‚Äî but it was one of my favorite mornings ever.</p>
      </div>
      <div class="image"><img src="Zoo.jpg" alt="Zoo Morning"></div>
    </div>

    <div class="milestone right">
      <div class="image"><img src="VT.jpg" alt="Vung Tau Trip"></div>
      <div class="text">
        <h3>24/12/2024 ‚Äì Our First Trip to V≈©ng T√†u</h3>
        <p>Our first real adventure together! The sea breeze, the laughter, the wedding, and the feeling of being side by side ‚Äî it was perfect.<br>
        (And yes, you looked very handsome in that suit at Lewis‚Äôs wedding üòåüíñ)</p>
      </div>
    </div>

    <div class="milestone left">
      <div class="text">
        <h3>06/01/2025 ‚Äì We Had a ‚ÄúBreak‚Äù</h3>
        <p>Not the best time, but an important one.<br>
        It made me realize how much you mean to me ‚Äî and that I never want to lose what we have again. üíî‚û°Ô∏è‚ù§Ô∏è</p>
      </div>
      <div class="image"><img src="BREAK.jpg" alt="Break"></div>
    </div>

    <div class="milestone right">
      <div class="image"><img src="WBD.jpg" alt="Worst Birthday"></div>
      <div class="text">
        <h3>15/04/2025 ‚Äì ‚ÄúThe Worst Birthday‚Äù</h3>
        <p>Even though it wasn‚Äôt my happiest day, it showed me that love isn‚Äôt always about perfection.<br>
        Sometimes, it‚Äôs about understanding, forgiving, and still choosing each other after everything.</p>
      </div>
    </div>

    <div class="milestone left">
      <div class="text">
        <h3>01/07/2025 ‚Äì Our 2nd Trip (China üá®üá≥)</h3>
        <p>New places, new food, new memories!<br>
        We explored, laughed, got lost, and found each other again (both literally and emotionally üòÖ).<br>
        One of the best trips ever.</p>
      </div>
      <div class="image"><img src="China.jpg" alt="China Trip"></div>
    </div>

    <div class="milestone right">
      <div class="image"><img src="Malay.jpg" alt="Malaysia Trip"></div>
      <div class="text">
        <h3>31/08/2025 ‚Äì Our 3rd Trip (Malaysia üá≤üáæ)</h3>
        <p>Sun, smiles, and so many inside jokes.<br>
        By then, traveling with you felt so natural ‚Äî like home.<br>
        Every trip, every moment, every second with you makes me love you even more. ‚ù§Ô∏è</p>
      </div>
    </div>

  </div>
</section>

<!-- Love Letter modal (thay ph·∫ßn Letter 1 / Letter 2) -->
<section>
  <h2>Love Letter üíñ</h2>
  <div class="tab" onclick="openLetter()">üíå Read Letter</div>
</section>

<!-- Overlay th∆∞ tay -->
<div class="letter-overlay" id="letterOverlay">
  <div class="letter-box">
    <button class="close-btn" onclick="closeLetter()">√ó</button>
    <div class="letter-content">
      <h3>My Love,</h3>
      <p>
        This year with you has been nothing short of magical. Every laugh, every tear, every
        little moment we shared means more to me than words could ever say.  
        You‚Äôve become my home, my comfort, and my forever.  
        Thank you for choosing me, for understanding me, and for loving me so deeply.  
        <br><br>
        No matter what happens next, I‚Äôll always cherish this love we‚Äôve built together.  
        <br><br>
        With all my heart,  
        <br>
        <em>‚Äî Yours always ‚ù§Ô∏è</em>
      </p>
    </div>
  </div>
</div>

<!-- ‚ù§Ô∏è Mini Game -->
<section>
  <h2>üß©Solving Problemüíó</h2>

  <!-- Tim + Play -->
  <div class="heart-wrap" style="position:relative; width:450px; height:450px; margin:0 auto;">
    <div class="board-wrap"></div> <!-- ch·ªâ ƒë·ªÉ t·∫°o h√¨nh tim -->
    <div class="play-btn" id="playBtn"></div>
  </div>

  <!-- Game n·ªôi dung, t√°ch h·∫≥n ra -->
  <div id="game-content">
    <p>Drag the pieces into the heart. Let's see if you can fulfill it! üòò</p>
    <div class="board-wrap" id="board"></div>
    <div id="pieces"></div>
    <div style="margin-top:12px;">
      <button id="shuffleBtn">üîÄShuffle</button>
      <button id="resetBtn">‚ôªÔ∏èAgain</button>
    </div>
  </div>
</section>

</main>
    
<audio id="bg-music" loop>
  <source src="mylove.mp3" type="audio/mpeg">
</audio>

<script>
/* ========== PASSWORD + INTRO ========== */
function checkPassword() {
  const pw = document.getElementById('pwInput');
  if (pw.value==='1510'){
    const gate=document.getElementById('passwordGate');
    showOverlay(); // üî• Hi·ªÉn th·ªã overlay ngay l·∫≠p t·ª©c
    gate.style.opacity='0';
    setTimeout(()=>{ gate.style.display='none'; },800);
  } else {
    pw.classList.add('wrong'); pw.value='Wrong';
    setTimeout(()=>{pw.classList.remove('wrong'); pw.value='';},1000);
  }
}

function showOverlay(){
  const overlay=document.getElementById('intro');
  overlay.style.display='flex';
  const line1=document.getElementById('line1');
  const line2=document.getElementById('line2');
  const clickText=document.getElementById('clickText');
  const icons=["‚ù§Ô∏è","üí´","üåô","üíê","‚ú®"];
  const floatContainer=document.getElementById('floatingIcons');
  function createIcon(){
    const icon=document.createElement('div');
    icon.className='floating-icon';
    icon.textContent=icons[Math.floor(Math.random()*icons.length)];
    icon.style.left=Math.random()*100+'%';
    icon.style.bottom='-30px';
    icon.style.animationDuration=4+Math.random()*3+'s';
    floatContainer.appendChild(icon);
    setTimeout(()=>icon.remove(),7000);
  }
  setInterval(createIcon,500);
  setTimeout(()=>{ typeText("üéâ‚ù§Ô∏èHappy Anniversary‚ù§Ô∏èüéâ",line1,()=>{ typeText("October 2024 - October 2025",line2,()=>clickText.classList.add('visible')); });},2000);
  overlay.addEventListener('click',closeIntro);
}

function typeText(text,el,callback){
  let i=0;
  function typing(){
    if(i<text.length){ el.textContent+=text.charAt(i); i++; setTimeout(typing,100);}
    else if(callback) callback();
  } typing();
}

function closeIntro(){
  const overlay=document.getElementById('intro');
  overlay.style.transition='opacity 0.9s ease';
  overlay.style.opacity=0;
  document.body.style.backgroundColor='#0b0b1d';
  const music=document.getElementById('bg-music');
  music.volume=0.7; music.play().catch(()=>{});
  setTimeout(()=>overlay.style.display='none',900);
}

/* ========== SKY ELEMENTS ========== */
const sky=document.getElementById('sky'); const moon=document.getElementById('moon');
for(let i=0;i<150;i++){
  const s=document.createElement('div'); s.className='star';
  const size=Math.random()*2+1;
  s.style.width=size+'px'; s.style.height=size+'px';
  s.style.top=Math.random()*100+'%'; s.style.left=Math.random()*100+'%';
  s.style.animationDelay=Math.random()*3+'s';
  sky.appendChild(s);
}
function createShootingStar(){
  const s=document.createElement('div');
  s.className='shooting-star';
  s.style.top=Math.random()*40+'%'; s.style.left=Math.random()*60+'%';
  sky.appendChild(s);
  setTimeout(()=>s.remove(),1800);
}
setInterval(()=>{ if(Math.random()<0.4) createShootingStar();},4000);

/* ========== SECTION REVEAL ========== */
let moonShrinkActive=false; let walked=false;
const sections=document.querySelectorAll('section');
window.addEventListener('scroll',()=>{
  const trigger=window.innerHeight*0.8;
  sections.forEach(sec=>{
    if(sec.getBoundingClientRect().top<trigger){
      sec.classList.add('visible');
      if(sec.id==='section1') moonShrinkActive=true;
    }
  });
  if(moonShrinkActive){
    const scrollY=window.scrollY;
    moon.style.transform=`scale(${Math.max(0.7,1-scrollY/2500)})`;
    moon.style.opacity=Math.max(0.5,1-scrollY/1800);
  }
});

  /* ========== TIMELINE SCROLL REVEAL ========== */
const milestones = document.querySelectorAll(".milestone");
window.addEventListener("scroll", () => {
  const trigger = window.innerHeight * 0.85;
  milestones.forEach(ms => {
    if (ms.getBoundingClientRect().top < trigger) {
      ms.classList.add("visible");
    }
  });
});


/* ========== MINI GAME ========== */

/* ========== MINI GAME ========== */

// üé¨ Khi b·∫•m n√∫t Play -> Hi·ªán game (ch·ªâ 1 listener, kh√¥ng c√≥ th·∫ª <script> l·ªìng)
document.getElementById("playBtn").addEventListener("click", () => {
  const playBtn = document.getElementById("playBtn");
  const gameContent = document.getElementById("game-content");
  const heartWrap = playBtn.closest('.heart-wrap'); // khung tr√°i tim trang tr√≠

  // 1) ·∫®n n√∫t Play
  playBtn.style.opacity = "0";
  playBtn.style.pointerEvents = "none";
  setTimeout(() => playBtn.style.display = "none", 600);

  // 2) ·∫®n lu√¥n khung trang tr√≠ (n·∫øu mu·ªën thay b·∫±ng game)
  if (heartWrap) {
    heartWrap.style.transition = "opacity 0.4s ease, transform 0.4s ease";
    heartWrap.style.opacity = "0";
    heartWrap.style.transform = "scale(0.96)";
    setTimeout(() => {
      heartWrap.style.display = "none";
    }, 420);
  }

  // 3) Hi·ªán game sau khi hi·ªáu ·ª©ng xong
  setTimeout(() => {
    gameContent.classList.add("visible");
    gameContent.style.marginTop = "20px";
  }, 400);
});

// --- Game logic: t·∫°o √¥, m·∫£nh, drag & drop, ki·ªÉm tra th·∫Øng ---
const board = document.getElementById("board");
const piecesContainer = document.getElementById("pieces");
const gridSize = 3;
const boardSize = 450;
const cellSize = boardSize / gridSize;

function createSlots() {
  board.innerHTML = "";
  for (let i = 0; i < gridSize * gridSize; i++) {
    const slot = document.createElement("div");
    slot.className = "slot";
    slot.dataset.index = i;
    slot.addEventListener("dragover", (e) => { e.preventDefault(); slot.classList.add("highlight"); });
    slot.addEventListener("dragleave", () => slot.classList.remove("highlight"));
    slot.addEventListener("drop", handleDrop);
    board.appendChild(slot);
  }
}

function createPieces(shuffle = true) {
  piecesContainer.innerHTML = "";
  const positions = [];
  for (let r = 0; r < gridSize; r++) {
    for (let c = 0; c < gridSize; c++) {
      positions.push({ r, c, idx: r * gridSize + c });
    }
  }
  if (shuffle) {
    for (let i = positions.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [positions[i], positions[j]] = [positions[j], positions[i]];
    }
  }
  positions.forEach((pos, i) => {
    const piece = document.createElement("div");
    piece.className = "piece";
    piece.id = "p-" + i;
    // backgroundPosition d·ª±a tr√™n v·ªã tr√≠ ·∫£nh g·ªëc
    piece.style.backgroundPosition = `-${pos.c * cellSize}px -${pos.r * cellSize}px`;
    piece.dataset.correctIndex = pos.idx;
    piece.draggable = true;
    piece.addEventListener("dragstart", (e) => {
      e.dataTransfer.setData("text/plain", piece.id);
      e.dataTransfer.effectAllowed = "move";
    });
    piecesContainer.appendChild(piece);
  });
}

function handleDrop(e) {
  e.preventDefault();
  this.classList.remove("highlight");
  const pieceId = e.dataTransfer.getData("text/plain");
  const dragged = document.getElementById(pieceId);
  if (!dragged) return;
  if (this.querySelector(".piece")) return; // slot ƒë√£ c√≥ piece
  this.appendChild(dragged);
  checkWin();
}

function checkWin() {
  const slots = document.querySelectorAll(".slot");
  let filled = 0, correct = 0;
  slots.forEach((slot, i) => {
    const piece = slot.querySelector(".piece");
    if (piece) {
      filled++;
      if (parseInt(piece.dataset.correctIndex) === i) correct++;
    }
  });

  // Khi ƒë·ªß 9 m·∫£nh v√† ƒë√∫ng h·∫øt
  if (filled === gridSize * gridSize && correct === gridSize * gridSize) {
    showFireworks();
    setTimeout(showReward, 1000); // xu·∫•t hi·ªán ·∫£nh th∆∞·ªüng sau 1s
  }
}

/* üéÜ Hi·ªáu ·ª©ng ph√°o hoa (nh·∫π) */
function showFireworks() {
  const fireContainer = document.createElement("div");
  fireContainer.id = "fireworks";
  fireContainer.style.position = "fixed";
  fireContainer.style.inset = "0";
  fireContainer.style.zIndex = "9999";
  fireContainer.style.pointerEvents = "none";
  document.body.appendChild(fireContainer);

  for (let i = 0; i < 25; i++) {
    const spark = document.createElement("div");
    spark.className = "spark";
    spark.style.position = "absolute";
    spark.style.width = "6px";
    spark.style.height = "6px";
    spark.style.borderRadius = "50%";
    spark.style.background = `hsl(${Math.random() * 360}, 100%, 70%)`;
    spark.style.top = Math.random() * 100 + "%";
    spark.style.left = Math.random() * 100 + "%";
    spark.style.animation = "burst 1s ease-out forwards";
    fireContainer.appendChild(spark);
  }

  setTimeout(() => {
    fireContainer.remove();
  }, 1800);
}

/* üñºÔ∏è Hi·ªán ·∫£nh ph·∫ßn th∆∞·ªüng + ending */
function showReward() {
  const reward = document.createElement("div");
  reward.id = "reward";
  reward.style.position = "fixed";
  reward.style.inset = "0";
  reward.style.display = "flex";
  reward.style.alignItems = "center";
  reward.style.justifyContent = "center";
  reward.style.background = "rgba(0,0,0,0.7)";
  reward.style.zIndex = "10000";

  reward.innerHTML = `
    <div style="text-align:center;">
      <h2 style="color:#fff;font-size:2em;margin-bottom:15px;">üéâ You Completed Us! üéâ</h2>
      <img src="anni.jpg" alt="Reward" style="width:400px;border-radius:20px;box-shadow:0 0 25px rgba(255,255,255,0.5);">
      <p style="color:#fce4ec;margin-top:10px;">Love overflowing‚Ä¶üíñ</p>
      <button id="closeRewardBtn" style="margin-top:15px;padding:10px 25px;border:none;border-radius:10px;background:#ff6f91;color:white;cursor:pointer;font-size:1rem;">Close üí´</button>
    </div>
  `;
  document.body.appendChild(reward);

  // Khi b·∫•m Close -> Hi·ªán k·∫øt
  document.getElementById("closeRewardBtn").onclick = () => {
    reward.remove();
    document.querySelector("main").classList.add("shifted");

    // Hi·ªáu ·ª©ng n·ªÅn k·∫øt nh·∫π
    document.body.style.transition = "background-color 3s ease";
    document.body.style.backgroundColor = "#2b0a18";

    // Hi·ªán m√†n k·∫øt
    const endScene = document.createElement("div");
    endScene.className = "ending-scene";
    endScene.innerHTML = `
      <div class="ending-text">
        <h2>To be continued‚Ä¶</h2>
        <p>This is just our first chapter.<br>I can‚Äôt wait to write the rest with you. ‚ù§Ô∏è</p>
      </div>
    `;
    document.body.appendChild(endScene);
    setTimeout(() => endScene.classList.add("visible"), 100);
  };
}

// Shuffle v√† Reset buttons
document.getElementById("shuffleBtn").addEventListener("click", () => createPieces(true));
document.getElementById("resetBtn").addEventListener("click", () => { createSlots(); createPieces(false); });

// Kh·ªüi t·∫°o l·∫ßn ƒë·∫ßu
createSlots();
createPieces(true);

// Cho ph√©p double click ƒë·ªÉ ·∫©n ending v√† hi·ªán l·∫°i main (n·∫øu c√≥)
document.addEventListener("DOMContentLoaded", () => {
  const observer = new MutationObserver(() => {
    const endingScene = document.querySelector(".ending-scene");
    const main = document.querySelector("main");
    if (endingScene && !endingScene.dataset.bound) {
      endingScene.dataset.bound = "true";
      endingScene.addEventListener("dblclick", () => {
        endingScene.style.transition = "opacity 1s ease";
        endingScene.style.opacity = "0";
        setTimeout(() => {
          endingScene.style.display = "none";
          if (main) {
            main.classList.remove("shifted");
            main.style.filter = "none";
            main.style.opacity = "1";
            main.style.transform = "translateY(0)";
          }
        }, 1000);
      });
    }
  });
  observer.observe(document.body, { childList: true, subtree: true });
});
// üíå Love Letter Popup Logic
const openLetterBtn = document.getElementById("openLetterBtn");
const closeLetterBtn = document.getElementById("closeLetterBtn");
const loveLetter = document.getElementById("loveLetter");

if (openLetterBtn && closeLetterBtn && loveLetter) {
  openLetterBtn.addEventListener("click", () => {
    loveLetter.classList.add("visible");
  });

  closeLetterBtn.addEventListener("click", () => {
    loveLetter.classList.remove("visible");
  });

  // ƒê√≥ng khi b·∫•m ngo√†i khung th∆∞
  loveLetter.addEventListener("click", (e) => {
    if (e.target === loveLetter) loveLetter.classList.remove("visible");
  });
}
  /* üíå M·ªü v√† ƒë√≥ng th∆∞ tay */
function openLetter() {
  document.getElementById("letterOverlay").classList.add("active");
}

function closeLetter() {
  const overlay = document.getElementById("letterOverlay");
  overlay.classList.remove("active");
}

</script>
</body>
</html>
